/* Copyright (c) Ansible and contributors */

// Documentation table (for module options and return values)
table.documentation-table {
  border-bottom: 1px solid #000;
  border-right: 1px solid #000;

  th {
    background-color: #6AB0DE;
  }

  td, th {
    padding: 4px;
    border-left: 1px solid #000;
    border-top: 1px solid #000;
  }

  td.elbow-placeholder {
    border-top: 0;
    width: 30px;
    min-width: 30px;
  }

  // More table formatting
  td {
    vertical-align: top;
  }
  td:first-child {
    white-space: nowrap;
  }

  // Direct links to options / return values
  tr {
    .ansibleOptionLink {
      display: inline-block;
      visibility: hidden;

      &::after {
        content: "ðŸ”—";
      }
    }

    &:hover .ansibleOptionLink::after {
      visibility: visible;
    }

    &:nth-child(odd) {
      background-color: #FFFFFF;
    }
    &:nth-child(even) {
      background-color: #E7F2FA;
    }
  }
}

table.ansible-option-table {
  border-color: #000000 !important;
  
  // The following is basically ignored, but together with the `height: 100%` for <tr>
  // and the two `height: inherit`s for <td> and <div> makes sure that the <div> inside
  // the <td> has full height.
  height: 1px;

  tr {
    height: 100%;
  }

  td, th {
    border-color: #000000 !important;
    border-bottom: none !important;
    vertical-align: top !important;
  }

  thead tr {
    background-color: #6AB0DE;
  }

  tbody {
    .row-odd td {
      background-color: #FFFFFF !important;
    }

    .row-even td {
      background-color: #E7F2FA !important;
    }
  }

  ul > li > p {
    margin: 0 !important;
  }

  ul > li > div[class^="highlight"] {
    margin-bottom: 4px !important;
  }

  p.ansible-option-title {
    display: inline;
  }

  .ansible-option-type-line {
    font-size: small;
    margin-bottom: 0;
  }

  .ansible-option-type {
    color: purple;
  }

  .ansible-option-elements {
    color: purple;
  }

  .ansible-option-required {
    color: red;
  }

  .ansible-option-versionadded {
    font-style: italic;
    font-size: small;
    color: darkgreen;
  }

  .ansible-option-aliases {
    margin-top: 8px;
    font-size: small;
    color: darkgreen;
  }

  .ansible-option-line {
    margin-top: 8px;
  }

  .ansible-option-choices {
    font-size: smaller;
    font-weight: 700;
  }

  .ansible-option-choices-entry {
    font-size: smaller;
  }

  .ansible-option-default {
    font-size: smaller;
    color: blue;
  }

  .ansible-option-default-bold {
    font-size: smaller;
    color: blue;
    font-weight: 700;
  }

  .ansible-option-configuration {
    font-size: smaller;
    font-weight: 700;
  }

  .ansibleOptionLink {
    display: inline-block;
    visibility: hidden;

    &::after {
      content: "ðŸ”—";
    }
  }

  p {
    margin: 0 0 8px;
  }

  tr:hover .ansibleOptionLink::after {
    visibility: visible;
  }

  td {
    padding: 0 !important;
    white-space: normal;

    > div.ansible-option-cell  {
      padding: 8px 16px;
      border-top: 1px solid #000000;
    }
  }

  td:first-child {
    height: inherit;
    display: flex;
    flex-direction: row;

    > div.ansible-option-cell  {
      height: inherit;
      flex: 1 0 auto;
      white-space: nowrap;
    }
  }

  .ansible-option-indent {
    margin-left: 2em;
    border-right: 1px solid #000000;
  }
}

dl.ansible-attributes {
  dt:nth-of-type(1), dd:nth-of-type(1) {
    display: none;
  }

  .ansible-attribute-support-label, .ansible-attribute-support-property {
    font-weight: bold;
  }

  .ansible-attribute-support-none {
    font-weight: bold;
    color: red;
  }

  .ansible-attribute-support-partial {
    font-weight: bold;
    color: #a5a500;
  }

  .ansible-attribute-support-full {
    font-weight: bold;
    color: green;
  }

  .ansible-attribute-support-na {
  }

  .ansible-attribute-details {
    font-style: italic;
  }
}

@media (min-width: 1000px) {
  dl.ansible-attributes {
    display: grid;
    border: solid 1px #777;
    box-sizing: border-box;

    dt:nth-of-type(1), dd:nth-of-type(1) {
      display: table-row;
      font-weight: bold;
    }

    dt:not(:nth-of-type(1)), dd:not(:nth-of-type(1)) {
      border-top: solid 1px #777;
      box-sizing: border-box;
    }

    dt {
      margin: 0 !important;
      padding: 0.5rem !important;
    }

    dt:after {
      display: none;
    }

    dd {
      display: grid !important;
      grid-template-columns: 2fr 4fr;
      margin: 0 !important;
    }

    .ansible-attribute-desc, .ansible-attribute-support {
      border-left: solid 1px #777;
      box-sizing: border-box;
      margin: 0 !important;
      padding: 0.5rem !important;
    }

    .ansible-attribute-support-label {
      display: none;
    }
  }
}

@media (max-width: 1200px) {
  table.ansible-option-table {
    display: block;
    height: unset;
    border: none !important;
  
    thead {
      display: none;
    }
  
    tbody, tr, td {
      display: block;
      border: none !important;
    }

    tbody {
      .row-odd td {
        background-color: unset !important;
      }

      .row-even td {
        background-color: unset !important;
      }
    }

    td {
      > div.ansible-option-cell {
        border-top: none;
      }

      &:first-child > div.ansible-option-cell {
        background-color: #E7F2FA !important;
      }
    }

    td:last-child {
      display: flex;
      flex-direction: row;
      
      > div.ansible-option-cell {
        margin-left: 2em;
      }
    }

    .ansible-option-indent-desc {
      margin-left: 2em;
    }

    .ansible-option-indent, .ansible-option-indent-desc {
      border: none;
      border-right: solid 5px #E7F2FA;
    }
  }
}
